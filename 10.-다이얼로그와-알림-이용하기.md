# ë‹¤ì´ì–¼ë¡œê·¸ì™€ ì•Œë¦¼ ì´ìš©í•˜ê¸°

> ã€Do it! ê¹¡ìƒ˜ì˜ ì•ˆë“œë¡œì´ë“œ ì•± í”„ë¡œê·¸ë˜ë° with ì½”í‹€ë¦°ã€ êµì¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.
> 

## 1. API ë ˆë²¨ í˜¸í™˜ ê³ ë ¤í•˜ê¸°

### API ë ˆë²¨ ì„¤ì •

- build.gradle íŒŒì¼ì—ì„œ í™•ì¸ ë° ì„¤ì • ê°€ëŠ¥

```kotlin
minSdkVersion 16
targetSdkVersion 31
```

- ìœ„ì™€ ê°™ì´ ì„¤ì •í–ˆì„ ê²½ìš°, í•´ë‹¹ ì•±ì€ 16 ë²„ì „ë¶€í„° ì„¤ì¹˜í•  ìˆ˜ ìˆìœ¼ë©° 16 ë²„ì „ ì´í›„ì— ì¶”ê°€ëœ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ â—
    
    â†’ ì˜ˆë¥¼ ë“¤ì–´, 30 ë²„ì „ì—ì„œ ì¶”ê°€ëœ **[Callback()](https://developer.android.com/reference/kotlin/android/widget/Toast.Callback)** í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë©´ ì•„ë˜ ì²˜ëŸ¼ ê²½ê³  ë©”ì‹œì§€ ë°œìƒí•¨
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-20_á„‹á…©á„’á…®_5 58 30](https://user-images.githubusercontent.com/50613994/138550839-f429e374-29dc-488b-9e42-c76f6b119453.png)

    

### ğŸ’¡ API ë ˆë²¨ í˜¸í™˜ ë¬¸ì œ í•´ê²° ë°©ë²•

- '@' ê¸°í˜¸ë¡œ ì‹œì‘í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ ì•ˆë“œë¡œì´ë“œìŠ¤íŠœë””ì˜¤ì—ì„œ ì˜¤ë¥˜ë¥¼ ë¬´ì‹œí•˜ë„ë¡ ì„¤ì •
    
     â†’ **@RequiresApi** ë˜ëŠ” **@TargetApi** ì‚¬ìš©
    

```kotlin
// @TargetApi(Build.VERSION_CODES.R)
@RequiresApi(Build.VERSION_CODES.R)
fun showToast() {
	(...ìƒëµ...)
	toast.Callback(
		(...ìƒëµ...)
	)
	toat.show()
}
```

- ì•± ì‹¤í–‰ ì‹œ API ë ˆë²¨ í˜¸í™˜ì„± ë¬¸ì œë¥¼ ë§‰ê¸° ìœ„í•´ì„œëŠ” í•´ë‹¹ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë²„ì „ì¸ ê²½ìš°ì—ë§Œ ì‹¤í–‰ë˜ë„ë¡ ì§ì ‘ ì½”ë“œë¡œ ì²˜ë¦¬
    
    â†’ Build.VERSION.SDK_INT : ì•±ì´ ì‹¤í–‰ë˜ëŠ” ê¸°ê¸°ì˜ API ë ˆë²¨
    

```kotlin
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.R) {
	fun showToast() {
		(...ìƒëµ...)
		toast.Callback(
			(...ìƒëµ...)
		)
		toat.show()
	}
}
```

## 2. í¼ë¯¸ì…˜ ì„¤ì •í•˜ê¸°

### í¼ë¯¸ì…˜ì´ë€?

ì•±ì˜ íŠ¹ì • ê¸°ëŠ¥ì— ë¶€ì—¬í•˜ëŠ” ì ‘ê·¼ ê¶Œí•œìœ¼ë¡œ, ë‹¤ë¥¸ ì•±ì´ë‚˜ ì•ˆë“œë¡œì´ë“œ ì‹œìŠ¤í…œì—ì„œ ë³´í˜¸í•˜ëŠ” íŠ¹ì • ê¸°ëŠ¥ì„ ì´ìš©í•˜ê±°ë‚˜ ë‹¤ë¥¸ì•±ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë„ë¡ ê¸°ëŠ¥ì„ ë³´í˜¸í•˜ê³  ì‹¶ì„ ë•Œ í¼ë¯¸ì…˜ì„ ì„¤ì •í•œë‹¤. 

### í¼ë¯¸ì…˜ ì„¤ì •ê³¼ ì‚¬ìš© ì„¤ì •

**<permission>** : ê¸°ëŠ¥ì„ ë³´í˜¸í•˜ë ¤ëŠ” ì•±ì˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì— ì„¤ì •

**<uses-permission>** : í¼ë¯¸ì…˜ìœ¼ë¡œ ë³´í˜¸ëœ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ëŠ” ì•±ì˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì— ì„¤ì •

ğŸ‘‰  Aì•±ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ Bì•±ì—ì„œ ì‚¬ìš©í•˜ë ¤ê³  í•˜ëŠ” ê²½ìš°

Bì•±ì˜ ì…ì¥ì—ì„œ ìƒê°í•´ë³´ë©´,

- í¼ë¯¸ì…˜ ì ìš© ì•ˆí•œ ìƒíƒœ â†’ Aì•±ì˜ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê°€ëŠ¥
- Aì•± ì»´í¬ë„ŒíŠ¸ì— **<permission>** ì„¤ì •í•œ ìƒíƒœ â†’ Aì•±ì˜ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ë¶ˆê°€ëŠ¥
- Bì•±ì—ì„œ í•´ë‹¹ í¼ë¯¸ì…˜ì— ëŒ€í•´ **<uses-permission>** íƒœê·¸ ì„¤ì • â†’ Aì•± ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê°€ëŠ¥

- [**<permission>**](https://developer.android.com/guide/topics/manifest/permission-element) íƒœê·¸ ì†ì„±
    
    ```kotlin
    <permission android:name="com.example.permission.TEST_PERMISSION"
    	android:label="Test Permission"
    	android:description="@string/permission_desc"
    	android:protectionLevel="dangerous" />
    ```
    
    - **name** : í¼ë¯¸ì…˜ ì´ë¦„ (í¼ë¯¸ì…˜ ì‹ë³„ì ì—­í• )
    - **label, description** : í¼ë¯¸ì…˜ì„ ì´ìš©í•˜ëŠ” ì™¸ë¶€ ì•±ì—ì„œ ê¶Œí•œ ì¸ì¦ í™”ë©´ì— ì¶œë ¥ë˜ëŠ” ì •ë³´
    - **protectionLevel** : ë³´í˜¸ ìˆ˜ì¤€
        - normal : ë‚®ì€ ìˆ˜ì¤€ì˜ ë³´í˜¸. ì‚¬ìš©ìì—ê²Œ ê¶Œí•œ í—ˆìš©ì„ ìš”ì²­í•˜ì§€ ì•Šì•„ë„ ë¨
        - dangerous : ë†’ì€ ìˆ˜ì¤€ì˜ ë³´í˜¸. ì‚¬ìš©ìì—ê²Œ ê¶Œí•œ í—ˆìš©ì„ ìš”ì²­í•´ì•¼ í•¨
        - signature : ê°™ì€ í‚¤ë¡œ ì¸ì¦í•œ ì•±ë§Œ ì‹¤í–‰
        - signatureOrSystem : ì•ˆë“œë¡œì´ë“œ ì‹œìŠ¤í…œ ì•±ì´ê±°ë‚˜ ê°™ì€ í‚¤ë¡œ ì¸ì¦í•œ ì•±ë§Œ ì‹¤í–‰
        
        ğŸ‘‰  protectionLevel ì˜ˆì‹œ
        
        ACCESS_NETWORK_STATE : **normal** 
        
        ACCESS_FINE_LOCATIONì„ : **dangerous**
        
        â†’ protectionLevelì´ ë‹¤ë¥¸ ë‘ í¼ë¯¸ì…˜ì„ ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš© ì„¤ì •í•˜ë©´, ì•± ì„¤ì¹˜í•œ í›„ ì•±ì˜ ê¶Œí•œ í™”ë©´ì—ëŠ” ë³´í˜¸ ìˆ˜ì¤€ì´ **dangerous**ì¸ í¼ë¯¸ì…˜ë§Œ ë‚˜íƒ€ë‚¨
        
    
    ```kotlin
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    ```
    
- ì•ì„œ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì— ì„¤ì •í–ˆë˜ <permission> ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•˜ëŠ” ë°©ë²•
    - **android:permission** ì†ì„±ì„ ì‚¬ìš©í•´ í¼ë¯¸ì…˜ìœ¼ë¡œ ë³´í˜¸í•˜ë ¤ëŠ” ì»´í¬ë„ŒíŠ¸ì— ì ìš©
    
    ```kotlin
    <activity
    	android:name=".MainActivity"
    	android:permission="com.example.TEST_PERMISSION">
    		<intent-filter>
    			<action android:name="android.intent.action.MAIN" />
    		</intent-filter>
    </activity>
    ```
    
    - í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” com.example.TEST_PERMISSIONì— ì˜í•´ ë³´í˜¸ë¨
    - ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•˜ëŠ” ê³³ì—ì„œ ì•„ë˜ì²˜ëŸ¼ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì— **<uses-permission>**ìœ¼ë¡œ ì„ ì–¸í•´ ì¤˜ì•¼ ì •ìƒ ì‹¤í–‰
    
    ```kotlin
    <uses-permission android:name="com.example.permission.TEST_PERMISSION" />
    ```
    
<details>
<summary>ì•ˆë“œë¡œì´ë“œ ì‹œìŠ¤í…œì—ì„œ ë³´í˜¸í•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëŒ€í‘œì ì¸ í¼ë¯¸ì…˜ë“¤</summary>
<div markdown="1">       

    - ACCESS_FINE_LOCATION : ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼
    - ACCESS_NETWORK_STATE : ë„¤íŠ¸ì›Œí¬ ì •ë³´ ì ‘ê·¼
    - ACCESS_WIFI_STATE : ì™€ì´íŒŒì´ ë„¤íŠ¸ì›Œí¬ ì •ë³´ ì ‘ê·¼
    - BATTERY_STATS : ë°°í„°ë¦¬ ì •ë³´ ì ‘ê·¼
    - BLUETOOTH : ë¸”ë£¨íˆ¬ìŠ¤ ì¥ì¹˜ì— ì—°ê²°
    - CAMERA : ì¹´ë©”ë¼ ì¥ì¹˜ì— ì ‘ê·¼
    - INTERNET : ë„¤íŠ¸ì›Œí¬ ì—°ê²°
    - READ_EXTERNAL_STORAGE : ì™¸ë¶€ ì €ì¥ì†Œì—ì„œ íŒŒì¼ ì½ê¸°
    - READ_PHONE_STATE : ì „í™”ê¸° ì •ë³´ ì ‘ê·¼
    - SEND_SMS : ë¬¸ì ë©”ì‹œì§€ ë°œì‹ 
    - RECEIVE_BOOT_COMPLETED : ë¶€íŒ… ì™„ë£Œ ì‹œ ì‹¤í–‰
    - VIBRATE : ì§„ë™ ìš¸ë¦¬ê¸°

</div>
</details>


### í¼ë¯¸ì…˜ í—ˆìš© í™•ì¸

- API ë ˆë²¨ 23ë²„ì „ ì´í›„ë¡œëŠ” ê°œë°œìê°€ ì„ ì–¸í•œ <uses-permission> ê³¼ ìƒê´€ì—†ì´ ì‚¬ìš©ìê°€ ê¶Œí•œ í™”ë©´ì—ì„œ ê¶Œí•œì„ ê±°ë¶€í•  ìˆ˜ ìˆê²Œ ë¨
- ì•± ì‹¤í–‰ ì‹œ ì‚¬ìš©ìê°€ í¼ë¯¸ì…˜ì„ ê±°ë¶€í–ˆëŠ”ì§€ í™•ì¸í•˜ê³  ê±°ë¶€í–ˆìœ¼ë©´ ë‹¤ì‹œ í¼ë¯¸ì…˜ í—ˆìš© ìš”ì²­
    - ì‚¬ìš©ìì˜ í¼ë¯¸ì…˜ í—ˆìš© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ **checkSelfPermission()** í•¨ìˆ˜ ì´ìš©
    - ì‚¬ìš©ìì—ê²Œ í¼ë¯¸ì…˜ í—ˆìš©ì„ ìš”ì²­í•  ë•Œì—ëŠ” **requestPermissions()** í•¨ìˆ˜ ì´ìš©
    - í¼ë¯¸ì…˜ ìš”ì²­ ê²°ê³¼ëŠ” **onRequestPermissionsResult()** í•¨ìˆ˜ ì´ìš©
    
    ```kotlin
    // í¼ë¯¸ì…˜ í—ˆìš© í™•ì¸ í•¨ìˆ˜
    open static fun checkSelfPermission(
    	@NonNULL context: Context,
    	@NonNull permission: String
    ) : Int
    
    // ê¶Œí•œ í—ˆìš©í•œ ê²½ìš° PackageManager.PERMISSION_GRANTED ìƒìˆ˜ ë°˜í™˜
    // ê¶Œí•œ ê±°ë¶€í•œ ê²½ìš° PackageManager.PERMISSION_DENIED ìƒìˆ˜ ë°˜í™˜
    ```
    
    ```kotlin
    // í¼ë¯¸ì…˜ í—ˆìš© ìš”ì²­ í•¨ìˆ˜
    // í•¨ìˆ˜ê°€ ì‹¤í–‰ ì‹œ í¼ë¯¸ì…˜ì„ ìš”ì²­í•˜ëŠ” ë‹¤ì´ì–¼ë¡œê·¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚¨
    open static fun requestPermissions(
    	@NonNULL activity: Activity,
    	@NonNULL permissions: Array<String!>,
    	@IntRange(0) requestCode: Int
    ): Unit
    ```
    
    ```kotlin
    // í¼ë¯¸ì…˜ ìš”ì²­ ê²°ê³¼ í™•ì¸ í•¨ìˆ˜
    abstract fun onRequestPermissionResult(
    	requestCode: Int,
    	@NonNULL permissions: Array<String!>,
    	@NonNULL grantResults: IntArray
    ): Unit
    ```
    

## 3. ë‹¤ì–‘í•œ ë‹¤ì´ì–¼ë¡œê·¸

### í† ìŠ¤íŠ¸ ë©”ì‹œì§€ ë„ìš°ê¸°

- makeText() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•
    - open static fun **makeText**(contextL Context!, text: CharSequence!, duration: Int): Toast!
    - open static fun **makeText**(contextL Context!, resId: Int, duration: Int): Toast!
        - ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” ì¶œë ¥í•  ë¬¸ìì—´ì„, ì„¸ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” í† ìŠ¤íŠ¸ê°€ ì¶œë ¥ë˜ëŠ” ì‹œê°„ì„ ì „ë‹¬
            
            â†’ ì¶œë ¥ ì‹œê°„ì€ **Toast.LENGTH_SHORT**(3ì´ˆ) ë˜ëŠ” **Toast.LENGTH_LONG**(5ì´ˆ) ìƒìˆ˜ ì‚¬ìš©
            
    
    ```kotlin
    Toast.makeText(this, "ì¢…ë£Œí•˜ë ¤ë©´ í•œ ë²ˆ ë” ëˆ„ë¥´ì„¸ìš”", Toast.LENGTH_SHORT).show()
    ```
    

- setter í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•
    
    ë¬¸ìì—´ì´ë‚˜ í™”ë©´ì— ë³´ì´ëŠ” ì‹œê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì„¸í„° í•¨ìˆ˜
    
    - open fun **setDuration**(duration: Int): Unit
    - open fun **setText**(resId: Int): Unit
    
    í† ìŠ¤íŠ¸ê°€ ëœ¨ëŠ” ìœ„ì¹˜ë¥¼ ì •í•  ìˆ˜ ìˆëŠ” ì„¸í„° í•¨ìˆ˜
    
    - open fun **setGravity**(gravity: Int, sOffset: Int, yOffset: Int): Unit
    - open fun **setMargin**(horizontalMargin: Float, verticalMargin: Float): Unit
    
- ì½œë°± ê¸°ëŠ¥ì„ ì´ìš©í•˜ëŠ” ë°©ë²•
    - í† ìŠ¤íŠ¸ê°€ í™”ë©´ì— ë³´ì´ëŠ” ìˆœê°„ì´ë‚˜ í† ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ëŠ” ìˆœê°„ì„ ì½œë°±ìœ¼ë¡œ ê°ì§€í•´ íŠ¹ì • ë¡œì§ ìˆ˜í–‰
    
    ```kotlin
    @RequiresApi(Build.VERSION_CODES.R)
    	fun showToast() {
    	val toast = Toast.makeText(this, "ì¢…ë£Œí•˜ë ¤ë©´ í•œ ë²ˆ ë” ëˆ„ë¥´ì„¸ìš”", Toast.LENGTH_SHORT)
    		toast.addCallback(
    			object : Toast.Callback() {
    				// í† ìŠ¤íŠ¸ê°€ ëœ¨ëŠ” ìˆœê°„ í˜¸ì¶œ
    				override fun onToastShown() {
    					super.onToastShown()
    				}
    
    				// í† ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§€ëŠ” ìˆœê°„ í˜¸ì¶œ
    				override fun onToastHidden() {
    					super.onToastHidden()
    				}
    			})
    		toast.show()
    }
    ```
    

### ë‚ ì§œ ë˜ëŠ” ì‹œê°„ ì…ë ¥ë°›ê¸°

- **í”¼ì»¤(Picker) ë‹¤ì´ì–¼ë¡œê·¸** ì‚¬ìš©
    - ë‚ ì§œ ì…ë ¥ë°›ì„ ì‹œ **DatePickerDialog** ì‚¬ìš©
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-21_á„‹á…©á„’á…®_12 33 46](https://user-images.githubusercontent.com/50613994/138550893-9f82278f-a1aa-4231-9855-4f5f70664ddc.png)
        
    
    ```kotlin
    date.setOnClickListener {
    	val cal = Calendar.getInstance(
    	val dateSetListener = 
    		DatePickerDialog.OnDateSetListener { view, year, month, dayOfMonth ->
    			Log.d("kkang", "${year}ë…„ ${month + 1}ì›” ${dayOfMonth}ì¼") }
                
    	DatePickerDialog(
    		this, 
    		dateSetListener, 
    		cal.get(Calendar.YEAR), cal.get(Calendar.MONTH), cal.get(Calendar.DAY_OF_MONTH)
    	).show()
    }
    ```
    
    - ì‹œê°„ ì…ë ¥ë°›ì„ ì‹œ **TimePickerDialog** ì‚¬ìš©
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-21_á„‹á…©á„’á…®_12 34 51](https://user-images.githubusercontent.com/50613994/138550925-4b1aa0ee-5e7c-45c2-9d83-5ebb49a8ce8e.png)
        
    
    ```kotlin
    time.setOnClickListener {
    	val cal = Calendar.getInstance()    
    	val timeSetListener = 
    		TimePickerDialog.OnTimeSetListener { view, hourOfDay, minute ->
    			Log.d("kkang", "${hourOfDay}ì‹œ ${minute}ë¶„") }
    
    	TimePickerDialog(
    		this, 
    		timeSetListener, 
    		cal.get(Calendar.HOUR_OF_DAY), cal.get(Calendar.MINUTE), true
    	 ).show()
    }
    ```
    

### ì•Œë¦¼ ì°½ ë„ìš°ê¸°

- **AlertDialog** ì‚¬ìš©
- ì•Œë¦¼ì°½ì€ ìœ„ë¶€í„° ì°¨ë¡€ëŒ€ë¡œ ì œëª©, ë‚´ìš©, ë²„íŠ¼ ì˜ì—­ìœ¼ë¡œ êµ¬ë¶„ â†’ ì›í•˜ëŠ” ì˜ì—­ë§Œ ì§€ì •í•´ì„œ ì‚¬ìš© ê°€ëŠ¥
- ì•Œë¦¼ì°½ì€ ìƒì„±ìê°€ protectedë¡œ ì„ ì–¸ë˜ì–´ ê°ì²´ ì§ì ‘ ìƒì„±ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ **AlertDialog.Builder** ì‚¬ìš©

- **ì•Œë¦¼ ì°½ì˜ ì•„ì´ì½˜, ì œëª©, ë‚´ìš©ì„ ì§€ì •í•˜ëŠ” í•¨ìˆ˜**
    - open fun **setIcon**(iconId: Int): AlertDialog.Builder!
    - open fun **setTitle**(title: CharSequence!): AlertDialog.Builder!
    - open fun **setMessage**(message: CharSequence!): AlertDialog.Builder!
    
- **ì•Œë¦¼ ì°½ì˜ ë²„íŠ¼ì„ ì§€ì •í•˜ëŠ” í•¨ìˆ˜**
    - open fun **setPositiveButton**(text: CharSequence!, listener: DialogInterface.OnClickListener!): AlertDialog.Builder!
    - open fun **setNegativeButton**(text: CharSequence!, listener: DialogInterface.OnClickListener!): AlertDialog.Builder!
    - open fun **setNeutralButton**(text: CharSequence!, listener: DialogInterface.OnClickListener!): AlertDialog.Builder!
    
    â†’ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ë²„íŠ¼ì˜ ë¬¸ìì—´, ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ë²„íŠ¼ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì „ë‹¬
    
    â—ë²„íŠ¼ í´ë¦­ ì‹œ ì²˜ë¦¬í•  ë‚´ìš© ì—†ìœ¼ë©´ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— null ëŒ€ì…
    
    â—ë²„íŠ¼ì€ ìµœëŒ€ 3ê°œê¹Œì§€ ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê°™ì€ í•¨ìˆ˜ ì—¬ëŸ¬ë²ˆ ì‚¬ìš© ì‹œ í•˜ë‚˜ë§Œ ë‚˜íƒ€ë‚˜ê²Œ 
    
    ```kotlin
    val eventHandler = object: DialogInterface.OnClickListener {
        override fun onClick(p0: DialogInterface?, p1: Int) {
            if(p1 == DialogInterface.BUTTON_POSITIVE) {
                Log.d("kkang", "positive button click")
            } else if(p1 == DialogInterface.BUTTON_NEGATIVE) {
                Log.d("kkang", "negative button click")
            }
        }
    }
    
    (...ìƒëµ...)
    setPositiveButton("OK", eventHandler)
    setNegativeButton("Cancel", eventHandler)
    ```
    

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-21_á„‹á…©á„’á…®_1 11 52](https://user-images.githubusercontent.com/50613994/138550937-c3f775ff-5848-4f60-ad63-b245bee24e40.png)

```kotlin
dialog.setOnClickListener {
	AlertDialog.Builder(this).run {
		setTitle("test dialog")
		setIcon(android.R.drawable.ic_dialog_info)
		setMessage("ì •ë§ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")
		setPositiveButton("OK", null)
		setNegativeButton("Cancel", null)
		setNeutralButton("More", null)
		setPositiveButton("Yes", null)
		setNegativeButton("No", null)
		show()
	}
}
```

- **ëª©ë¡ì„ ì¶œë ¥í•˜ê¸° ìœ„í•œ í•¨ìˆ˜**
    - open fun **setItems**(items: Array<Char Sequence!>!, listener: DialogInterface.OnClickListener!): AlertDialog.Builder!
    - open fun **setMultiChoiceItems**(items: Array<Char Sequence!>!, checkedItems: BooleanArray!, listener: DialogInterface.OnMultiChoiceClickListener!): AlertDialog.Builder!
    - open fun **setSingleChoiceItems**(items: Array<Char Sequence!>!, checkedItem: Int, listener: DialogInterface.OnClickListener!): AlertDialog.Builder!
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-21_á„‹á…©á„’á…®_2 10 48](https://user-images.githubusercontent.com/50613994/138550959-690505c8-3627-403e-8509-29c02f76f3ab.png)
    
    ```kotlin
    // ëª©ë¡ ì¶œë ¥
    val items = arrayOf<String>("ì‚¬ê³¼", "ë³µìˆ­ì•„", "ìˆ˜ë°•", "ë”¸ê¸°")
    AlertDialog.Builder(this).run {
    	setTitle("items test")
    	setIcon(android.R.drawable.ic_dialog_info)
    	setItems(items, object: DialogInterface.OnClickListener {
    		override fun onClick(p0: DialogInterface?, p1: Int) {
    		Log.d("kkang", "ì„ íƒí•œ ê³¼ì¼ : ${items[p1]}")
    		}
    	})
    	setPositiveButton("ë‹«ê¸°", null)
    	show()
    }
    ```
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-21_á„‹á…©á„’á…®_2 10 26](https://user-images.githubusercontent.com/50613994/138550961-4e66a1cc-5d1d-4bf7-8525-5f2ebe0cd612.png)
    
    ```kotlin
    // ì²´í¬ë°•ìŠ¤
    setMultiChoiceItems(items, booleanArrayOf(true, false, true, false),
    object : DialogInterface.OnMultiChoiceClickListener {
    	override fun onClick(p0: DialogInterface?, p1: Int, p2: Boolean) {
    		Log.d("kkang", "${items[p1]}ì´ ${if (p2) "ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤." else "ì„ íƒ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤."}")
    	}
    })
    ```
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-21_á„‹á…©á„’á…®_2 10 34](https://user-images.githubusercontent.com/50613994/138550965-c1921dba-e0e5-4c6d-8a17-2e2cf0b1d46e.png)
    
    ```kotlin
    // ë¼ë””ì˜¤ ë²„íŠ¼
    setSingleChoiceItems(items, 1, object : DialogInterface.OnClickListener {
    	override fun onClick(p0: DialogInterface?, p1: Int) {
    		Log.d("kkang", "${items[p1]}ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤.")
    	}
    })
    ```
    
- **ì•Œë¦¼ì°½ ë‹«ê¸° ì†ì„±ì„ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜**
    
    ë§¤ê°œë³€ìˆ˜ trueë¡œ ì„¤ì • ì‹œ ì‚¬ìš©ìê°€ ê¸°ê¸°ì˜ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì•Œë¦¼ ì°½ ë‹«í˜
    
    - open fun **setCancelable**(cancelable: Boolean): AlertDialog.Builder!
    
    ë§¤ê°œë³€ìˆ˜ trueë¡œ ì„¤ì • ì‹œ ì•Œë¦¼ ì°½ì˜ ë°”ê¹¥ ì˜ì—­ì„ í„°ì¹˜í–ˆì„ ë•Œ ë‹«í˜
    
    - open fun **setCancelabledOnTouchOutside**(cancel: Boolean): Unit
    
    ```kotlin
    AlertDialog.Builder(this).run {
    	(...ìƒëµ...)
    	})
    	setCancelable(false)
    	setPositiveButton("ë‹«ê¸°", null)
    	show()
    }.setCanceledOnTouchOutside(false)
    ```
    

### ì»¤ìŠ¤í…€ ë‹¤ì´ì–¼ë¡œê·¸ ë§Œë“¤ê¸°

- ë§ˆì°¬ê°€ì§€ë¡œ AlertDialog ì‚¬ìš©
- LayoutInflater í´ë˜ìŠ¤ ì´ìš©
    
    > **LayoutInflater** **í´ë˜ìŠ¤**ë€?
    > 
    > 
    > â†’ ë ˆì´ì•„ì›ƒ XML íŒŒì¼ì„ ì½”ë“œì—ì„œ ì´ˆê¸°í™”í•˜ëŠ” ê¸°ëŠ¥ ì œê³µ 
    > 
    > ì¦‰,  XMLì— ì„ ì–¸í•œ ë·°ë¥¼ ì½”ë“œì—ì„œ ì´ìš©í•˜ê¸° ìœ„í•´ ìƒì„±í•´ì£¼ëŠ” ì—­í• 
    > 
    
- ì»¤ìŠ¤í…€ ë‹¤ì´ì–¼ë¡œê·¸ êµ¬í˜„ ë°©ë²•
    1. LayoutInflaterë¡œ ë ˆì´ì•„ì›ƒ XML íŒŒì¼ ì´ˆê¸°í™”
    
    ```kotlin
    // XMLíŒŒì¼ ì´ˆê¸°í™” 
    val inflater = getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater
    val rootView = inflater.inflate(R.layout.activity_one, null)
    
    // ë·° ë°”ì¸ë”© ê¸°ë²• ì ìš©í•œ XMLíŒŒì¼ ì´ˆê¸°í™”
    val binding = ActivityOneBinding.inflate(layoutInflater)
    val rootView = binding.root
    ```
    
    1. ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ êµ¬ì„±í•˜ëŠ” ë ˆì´ì•„ì›ƒ XMLíŒŒì¼ ì‘ì„±
    2. ì‘ì„±í•œ XMLíŒŒì¼ì„ LayoutInflaterë¡œ ì´ˆê¸°í™”í•´ ë‹¤ì´ì–¼ë¡œê·¸ì— ì ìš©
    
    ```kotlin
    val dialogBinding = DialogInputBinding.inflate(layoutInflater)
    AfterDialog.Builder(this).run {
    	setTitle("Input")
    	setView(dialogBinding.root)
    	setPositiveButton("ë‹«ê¸°", null)
    	show()
    }
    ```
    

## 4. ì†Œë¦¬ì™€ ì§„ë™ ì•Œë¦¼

### ì†Œë¦¬ ì•Œë¦¼

- ì‹œìŠ¤í…œì— ë“±ë¡ëœ ì†Œë¦¬ ì´ìš©í•˜ëŠ” ë°©ë²•
    - **RingtonManager** : ì•ˆë“œë¡œì´ë“œ ì‹œìŠ¤í…œì—ì„œ ì œê³µí•˜ëŠ” ì•Œë¦¼, ì•ŒëŒ, ë²¨ì†Œë¦¬ ë“±ì˜ ì†Œë¦¬ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì—­í• 
        1. **RingtonManger.getDefaultUri()** í•¨ìˆ˜ë¥¼ í†µí•´ ì†Œë¦¬ì˜ ì‹ë³„ê°’(Uri ê°ì²´) ë°›ì•„ì˜´
        2. **RingtoneManager.getRingtone()** í•¨ìˆ˜ì˜ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬
        3. ì†Œë¦¬ë¥¼ ì¬ìƒí•˜ëŠ” Ringtone ê°ì²´ë¥¼ ë°›ì•„ **play()** í•¨ìˆ˜ë¥¼ í†µí•´ ì†Œë¦¬ ì¬ìƒ

```kotlin
val notification: Uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)
val ringtone = RingtoneManager.getRingtone(applicationContext, notification)
ringtone.play()
```

- ìì²´ ìŒì›ì„ ì¤€ë¹„í•´ ì¬ìƒí•˜ëŠ” ë°©ë²•
    1. **res/raw** ë””ë ‰í„°ë¦¬ì— ìŒì›íŒŒì¼ì„ ë¦¬ì†ŒìŠ¤ë¡œ ë“±ë¡
    2. **MediaPlayer** í´ë˜ìŠ¤ì— ë¦¬ì†ŒìŠ¤ ì •ë³´ ì§€ì •í•œ í›„ start() í•¨ìˆ˜ í˜¸ì¶œí•´ ìŒì› ì¬ìƒ
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-20_á„‹á…©á„’á…®_11 36 01](https://user-images.githubusercontent.com/50613994/138551002-f66290ab-d892-4ae9-8579-2881fdb3f5ac.png)
        
        ```kotlin
        val player: MediaPlayer = MediaPlayer.create(this, R.raw.whoosh)
        player.start()
        ```
        

### ì§„ë™ ì•Œë¦¼

- ì§„ë™ í¼ë¯¸ì…˜ ì–»ê¸°
    
    ```kotlin
    <uses-permission android:name="android.permission.VIBRATE" />
    ```
    
- ì§„ë™ ê°ì²´ ì–»ê¸°
    - **Vibrator** í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ **getSystemService()** í•¨ìˆ˜ë¡œ ê°ì²´ ë°›ìŒ
    
    ```kotlin
    val vibrator = getSystemService(VIBRATE_SERVICE) as Vibrator
    ```
    

- **ì§„ë™ ì‹œê°„ê³¼ íŒ¨í„´ ì§€ì • í•¨ìˆ˜** â†’ *API ë ˆë²¨ 1ë¶€í„° ì œê³µí•˜ëŠ” í•¨ìˆ˜*
    
    26ë²„ì „(Android 8)ì—ì„œ deprecated ë˜ì—ˆì§€ë§Œ, ì´ì „ ë²„ì „ ê¸°ê¸° ì‚¬ìš©ìë¥¼ ìœ„í•´ ê³„ì† ì‚¬ìš©í•´ì•¼ í•¨
    
    - open fun **vibrate**(millisecond: Long) : Unit
        - ì§„ë™ì´ ìš¸ë¦¬ëŠ” ì‹œê°„ ì§€ì •í•˜ëŠ” í•¨ìˆ˜ (500ìœ¼ë¡œ ì„¤ì • ì‹œ 0.5ì´ˆê°„ ì§„ë™ ìš¸ë¦¼)
    - open fun **vibrate**(pattern: LongArray!, repeat: Int): Unit
        - ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì§„ë™ íŒ¨í„´ ì§€ì •
            
            (500, 1000, 500, 2000 ì˜ ë°°ì—´ê°’ ì „ë‹¬ ì‹œ 0.5ì´ˆ ì‰¬ê³  1ì´ˆê°„ ìš¸ë¦¬ê³   0.5ì´ˆ ì‰¬ê³  2ì´ˆê°„ ìš¸ë¦¼)
            
        - ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” íŒ¨í„´ ë°˜ë³µ íšŸìˆ˜ ì§€ì •
            
            (**-1** ì§€ì • ì‹œ í•œ ë²ˆë§Œ ìš¸ë¦¬ê³ , **0**ìœ¼ë¡œ ì§€ì • ì‹œ cancel() í•¨ìˆ˜ë¡œ ì§„ë™ ì•Œë¦¼ì„ ë„ê¸° ì „ê¹Œì§€ ê³„ì† ìš¸ë¦¼)
            
        
- **ì§„ë™ì˜ ì„¸ê¸°ê¹Œì§€ ì§€ì • ê°€ëŠ¥í•œ í•¨ìˆ˜** â†’ *API ë ˆë²¨ 26ë¶€í„° ì œê³µí•˜ëŠ” í•¨ìˆ˜*
    
    API ë ˆë²¨ 26ë¶€í„°ëŠ” ì§„ë™ ì •ë³´ë¥¼ **VibrationEffect** ê°ì²´ë¡œ ì§€ì •í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ ì œê³µ
    
    - open fun **vibrate**(vibe: VibrationEffect!): Unit
    - open static fun **createOneShot**(milliseconds: Long, amplitude: Int): VibrationEffect
        - ë‘ ë²ˆì§¸ í•¨ìˆ˜ë¡œ ë§Œë“  VibrationEffect ê°ì²´ë¥¼ vibrate() í•¨ìˆ˜ì— ëŒ€ì…í•´ ì‚¬ìš©
        - ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì˜ ì‹œê°„ ë™ì•ˆ ì§„ë™ì´ ìš¸ë¦¬ë©°, ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” ì§„ë™ì˜ ì„¸ê¸° ì§€ì •(0~255 ìˆ«ì)
        
    
    ğŸ‘‰  ê¸°ê¸°ê°€ ì •ì˜í•œ ê¸°ë³¸ ì„¸ê¸°ë¡œ ì§„ë™ ì‚¬ìš©í•˜ë ¤ë©´?
    
    ```kotlin
    val vibrator = getSystemService(VIBRATOR_SERVICE) as Vibrator
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.0) {
    	vibrator.vibrate(VibrationEffect.createOneShot(
    		500, VibrationEffect.DEFAULT_AMPLITUDE))
    } else {
    		vibrator.vibrate(500)
    }
    ```
    
- ë°˜ë³µí•´ì„œ ì§„ë™ì„ ìš¸ë¦¬ëŠ” í•¨ìˆ˜
    - open static fun **createWaveform**(timing: LongArray!, amplitudes: IntArray!, repeat: Int): VibrationEffect!
        - ë§¤ê°œë³€ìˆ˜ë¡œëŠ” ìˆœì„œëŒ€ë¡œ ì§„ë™ì´ ìš¸ë¦¬ëŠ” íŒ¨í„´, ì§„ë™ ì„¸ê¸° íŒ¨í„´, íŒ¨í„´ì˜ ë°˜ë³µ íšŸìˆ˜ ì§€ì •
        - ì•„ë˜ ì½”ë“œ ì‹¤í–‰ ì‹œ ì²˜ìŒ 0.5ì´ˆê°„ ì§„ë™ì´ ìš¸ë¦¬ì§€ ì•Šë‹¤ê°€ 1ì´ˆê°„ 50ì˜ ì„¸ê¸°ë¡œ ì§„ë™ì´ ìš¸ë¦¬ê³ , ë‹¤ì‹œ 0.5ì´ˆê°„ ìš¸ë¦¬ì§€ ì•Šë‹¤ê°€ ë§ˆì§€ë§‰ 2ì´ˆê°„ 200ì˜ ì„¸ê¸°ë¡œ ì§„ë™ì´ ìš¸ë¦¬ê²Œ ë¨
    
    ```kotlin
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.0) {
    	vibrator.vibrate(VibrationEffect.createWaveform(
    		longArrayOf((500, 1000, 500, 2000),
    		intArrayOf(0, 50, 0, 200), -1))
    } else {
    	vibrator.vibrate(longArrayOf(500, 1000, 500, 2000), -1)
    }
    ```
    

## 5. ì•Œë¦¼ ë„ìš°ê¸°

- ì•Œë¦¼ì„ ì‚¬ìš©í•˜ëŠ” ìƒíƒœ ë°”ëŠ” ì•±ì´ ì§ì ‘ ì œì–´í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì•±ì˜ í™”ë©´ì„ êµ¬ì„±í•˜ê±°ë‚˜ ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” í”„ë¡œê·¸ë˜ë°ê³¼ëŠ” êµ¬ì¡°ê°€ ë‹¤ë¥´ë©°, ì•Œë¦¼ì„ ìœ„í•´ ì œê³µí•˜ëŠ” APIë¥¼ ì´ìš©í•´ì•¼ í•¨
- ì•Œë¦¼ì€ NotificationManagerì˜ notify() í•¨ìˆ˜ë¥¼ í†µí•´ ë°œìƒ
    
    ì „ì²´ ê³¼ì •
    
    1. NotificationManagerë¡œ ì•Œë¦¼ ì±„ë„ì„ ìƒì„±
    2. ìƒì„±í•œ ì±„ë„ ì •ë³´ë¥¼ NotificationCompat.Builder()í•¨ìˆ˜ì— ëŒ€ì…í•´ NotificationCompat.Builderìƒì„±
    3. ìƒì„±í•œ ë¹Œë”ë¡œ Notification ê°ì²´ ìƒì„±
    4. ìƒì„±í•œ ê°ì²´ë¥¼ NotificationManagerì˜ notify() í•¨ìˆ˜ì— ëŒ€ì…
    

### ì•Œë¦¼ ì±„ë„

- API ë ˆë²¨ 26(Android 8) ë²„ì „ ì´ì „ê¹Œì§€ëŠ” NotificationChannel ì •ë³´ê°€ í•„ìš” ì—†ì—ˆì§€ë§Œ, 26 ë²„ì „ì—ì„œ ìƒì„±ìê°€ deprecatedë¨
- í˜„ì¬ëŠ” ì•±ì˜ ì•Œë¦¼ì„ ì±„ë„ë¡œ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì±„ë„ì˜ ì‹ë³„ê°’ì„ ë¹Œë” ìƒì„± ì‹œ ì§€ì •
    - **Builder**(context: Context, **channelId: String!**)
- ì•Œë¦¼ ì±„ë„ ìƒì„±ì
    - NotificationChannel(id: String!, name: CharSequence!, importance: Int)
        
        â†’ ì±„ë„ì˜ ì‹ë³„ê°’ê³¼ ì„¤ì • í™”ë©´ì— í‘œì‹œí•  ì±„ë„ ì´ë¦„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬
        
        â†’ ì„¸ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œëŠ” ì•Œë¦¼ì˜ ì¤‘ìš”ë„ë¥¼ ì˜ë¯¸í•˜ëŠ” ìƒìˆ˜ë¥¼ ì „ë‹¬
        
<details>
<summary>ì¤‘ìš”ë„ ìƒìˆ˜</summary>
<div markdown="1">       

    - NotificationManager.IMPORTANCE_HIGH : ê¸´ê¸‰ ìƒí™©ìœ¼ë¡œ ì•Œë¦¼ìŒ ìš¸ë¦¬ë©° í—¤ë“œì—…ìœ¼ë¡œ í‘œì‹œ
    - NotificationManager.IMPORTANCE_DEFAULT : ë†’ì€ ì¤‘ìš”ë„ì´ë©° ì•Œë¦¼ìŒì´ ìš¸ë¦¼
    - NotificationManager.IMPORTANCE_LOW : ì¤‘ê°„ ì¤‘ìš”ë„ì´ë©° ì•Œë¦¼ìŒì´ ìš¸ë¦¬ì§€ ì•ŠìŒ
    - NotificationManager.IMPORTANCE_MIN : ë‚®ì€ ì¤‘ìš”ë„ì´ë©° ì•Œë¦¼ìŒ ì—†ê³  ìƒíƒœ ë°”ì—ë„ í‘œì‹œ ì•ˆí•¨

</div>
</details>

<details>
<summary>ì±„ë„ ê°ì¢… ì •ë³´ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜</summary>
<div markdown="1">       

    - fun **setDescription**(description: String!): Unit    : ì±„ë„ ì„¤ëª… ë¬¸ìì—´
    - fun **setShowBadge**(showBadge: Boolean): Unit    :  í™ˆ í™”ë©´ ì•„ì´ì½˜ì— ë°°ì§€ ì•„ì´ì½˜ ì¶œë ¥ ì—¬ë¶€
    - fun **setSound**(sound: Uri!, audioAttributes: AudioAttributes!): Unit    : ì•Œë¦¼ìŒ ì¬ìƒ
    - fun **enableLights**(lights: Boolean): Unit    : ë¶ˆë¹› í‘œì‹œ ì—¬ë¶€
    - fun **setLightColor**(argb: Int): Unit    : ë¶ˆë¹›ì´ í‘œì‹œëœë‹¤ë©´ ë¶ˆë¹›ì˜ ìƒ‰ìƒ
    - fun **enableVibration**(vibration: Boolean): Unit    : ì§„ë™ ìš¸ë¦´ ì§€ ì—¬ë¶€
    - fun **setVibrationPattern**(vibrationPattern: LongArray!): Unit    : ì§„ë™ì„ ìš¸ë¦°ë‹¤ë©´ ì§„ë™ì˜ íŒ¨í„´

</div>
</details>

    
    ```kotlin
    //ì•Œë¦¼ ë¹Œë”
    val manager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager
    val builder: NotificationCompat.Builder
    
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
    	val channelId = "one-channel"
    	val channelName = "My Channel One"
    	val channel =
    	NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_HIGH)
    
    	// ì±„ë„ ì •ë³´ ì„¤ì •
    	channel.description = "My Channel One Description"
    	channel.setShowBadge(true)
    	val uri: Uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)
    	val audioAttributes = AudioAttributes.Builder()
    		.setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)
    		.setUsage(AudioAttributes.USAGE_ALARM)
    		.build()
    
    	channel.setSound(uri, audioAttributes)
    	channel.enableLights(true)
    	channel.lightColor = Color.RED
    	channel.enableVibration(true)
    	channel.vibrationPattern = longArrayOf(100, 200, 100, 200)
    
    	// NotificationManagerì— ì±„ë„ ë“±ë¡
    	manager.createNotificationChannel(channel)
    
    	// ì±„ë„ ì´ìš©í•´ ë¹Œë” ìƒì„±
    	builder = NotificationCompat.Builder(this, channelId)
    
    	} else {
    		builder = NotificationCompat.Builder(this)
    }
    ```
    

### ì•Œë¦¼ ê°ì²´

- ì•ì„œ ìƒì„±ëœ ë¹Œë”ë¥¼ ì´ìš©í•´ ì•Œë¦¼ ê°ì²´ ìƒì„±
- ê°ì²´ì—ëŠ” ì¶œë ¥í•  ì´ë¯¸ì§€, ë¬¸ìì—´ ë“±ì˜ ì •ë³´ë¥¼ ë‹´ì•„ ìƒíƒœë°”ì—ì„œ ë‚´ìš© ì¶œë ¥

- ì•Œë¦¼ ê°ì²´ ì„¤ì •
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„Œá…¥á†«_10 34 50](https://user-images.githubusercontent.com/50613994/138551026-5418ab9d-26e7-4561-b56d-66750a5810f5.png)
    

```kotlin
builder.setSmallIcon(android.R.drawable.ic_notification_overlay)  //ìŠ¤ëª° ì•„ì´ì½˜
builder.setWhen(System.currentTimeMillis()) //ì•Œë¦¼ ì‹œê°
builder.setContentTitle("Content Title")    //ì œëª©
builder.setContentText("Content Message")   //ë‚´ìš©
```

- ì•Œë¦¼ ë°œìƒ
    - notify() í•¨ìˆ˜ ì´ìš©
    - ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ëŠ” ì‹ë³„í•˜ê¸° ìœ„í•œ ìˆ«ì

```kotlin
manager.notify(11, builder.build())
```

- ì•Œë¦¼ ì·¨ì†Œ
    - cancel() í•¨ìˆ˜ ì´ìš©
    - ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì•Œë¦¼ì„ ë°€ì–´ì„œ(ìŠ¤ì™€ì´í”„) ì·¨ì†Œí•  ìˆ˜ ìˆìŒ

```kotlin
manager.cancel(11)
```

- ì•Œë¦¼ ì·¨ì†Œ ë§‰ê¸°
    - ìŠ¤ì™€ì´í”„í•´ë„ ì•Œë¦¼ì´ ì‚¬ë¼ì§€ì§€ ì•Šê²Œ í•˜ë ¤ë©´ í•¨ìˆ˜ë¡œ ì§€ì •í•´ì•¼ í•¨

```kotlin
builder.setAutoCancel(false)    // ì•Œë¦¼ í„°ì¹˜ ì‹œ ì´ë²¤íŠ¸ëŠ” ë°œìƒí•˜ì§€ë§Œ ì•Œë¦¼ì´ ì‚¬ë¼ì§€ì§€ëŠ” ì•ŠìŒ  
builder.setOngoing(true)      // ìŠ¤ì™€ì´í”„í•´ë„ ì•Œë¦¼ì´ ì‚¬ë¼ì§€ì§€ ì•ŠìŒ
```

### ì•Œë¦¼ êµ¬ì„±

- ì•Œë¦¼ í„°ì¹˜ ì´ë²¤íŠ¸
    - ì•Œë¦¼ì€ ì•±ì´ ì•„ë‹Œ ì‹œìŠ¤í…œì—ì„œ ê´€ë¦¬í•˜ëŠ” ìƒíƒœ ë°”ì— ì¶œë ¥ë˜ëŠ” ì •ë³´ì´ë¯€ë¡œ ì•±ì˜ í„°ì¹˜ ì´ë²¤íŠ¸ë¡œ ì²˜ë¦¬ ë¶ˆê°€
    - ì¸í…íŠ¸ì— Notification ê°ì²´ë¥¼ ë‹´ì•„ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì¸í…íŠ¸ê°€ ì‹¤í–‰ë˜ë„ë¡ ì‹œìŠ¤í…œì— ì˜ë¢°
        
        â†’ PendingIntent í´ë˜ìŠ¤ ì´ìš©
        
        > **pendingIntent**ë€
        > 
        > 
        > ì»´í¬ë„ŒíŠ¸ë³„ë¡œ ì‹¤í–‰ì„ ì˜ë¢°í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤
        > 
        - static fun **getActivity**(context: Context!, requestCode: Int, intent: Intent!, flags: Int): PendingIntent!
        - static fun **getBroadcast**(context: Context!, requestCode: Int, intent: Intent!, flags: Int): PendingIntent!
        - static fun **getService**(context: Context!, requestCode: Int, intent: Intent!, flags: Int): PendingIntent!
    
    ```kotlin
    val intent = Intent(this, SubActivity::class.java)
    val pendingIntent =
    	PendingIntent.getActivity(this, 10, intent, PendingIntent.FLAG_UPDATE_CURRENT)
    builder.setContentIntent(pendingIntent)
    ```
    

- ì•¡ì…˜
    - ì•Œë¦¼ì— ì•¡ì…˜ ìµœëŒ€ 3ê°œê¹Œì§€ ì¶”ê°€ ê°€ëŠ¥
    - í„°ì¹˜ ì´ë²¤íŠ¸ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì•¡ì…˜ì„ í„°ì¹˜í–ˆì„ ë•Œ ì‹¤í–‰í•  ì¸í…íŠ¸ ì •ë³´ë¥¼ PendingIntentë¡œ êµ¬ì„±í•´ ë“±ë¡
        - ì•¡ì…˜ ë“±ë¡ ì‹œ **addAction()** í•¨ìˆ˜ ì´ìš©
            
            open fun **addAction**(action: Notification.Action!): Notification.Builder
            
        - ì•¡ì…˜ ë¹Œë” ìƒì„±ì
        Builder(icon: Int, title: CharSequence!, intent: PendingIntent!)
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„Œá…¥á†«_10 38 15](https://user-images.githubusercontent.com/50613994/138551038-b3741e57-64ef-4ad3-a880-2bce4161a4a0.png)
    
    ```kotlin
    val actionIntent = Intent(this, SubActivity::class.java)
    val actionPendingIntent = PendingIntent.getBroadcast(this, 20, 
    	actionIntent, PendingIntent.FLAG_UPDATE_CURRENT)
    
    builder.addAction(
    	NotificationCompat.Action.Builder(
    		android.R.drawable.stat_notify_more,
    		"Action",
    		actionPendingIntent
    	).build()
    )
    ```
    
- ì›ê²© ì…ë ¥
    - ì•¡ì…˜ì˜ í•œ ì¢…ë¥˜ë¡œ, ì•Œë¦¼ì—ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ì§ì ‘ ë°›ëŠ” ê¸°ë²•
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„Œá…¥á†«_11 14 31](https://user-images.githubusercontent.com/50613994/138551039-f7efbfcd-ef26-4d04-b9db-ec99e38d47d1.png)
        
    
    ```kotlin
    // ì›ê²© ì…ë ¥
    val KEY_TEXT_REPLY = "key_text_reply"
    var replyLabel: String = "ë‹µì¥"
    var remoteInput: RemoteInput = RemoteInput.Builder(KEY_TEXT_REPLY).run {
    	setLabel(replyLabel)
    	build()
    }
    
    // ì¸í…íŠ¸ ì¤€ë¹„
    val replyIntent = Intent(this, SubActivity::class.java)
    val replyPendingIntent = PendingIntent.getBroadcast(
    	this, 30, replyIntent, PendingIntent.FLAG_UPDATE_CURRENT
    )
    
    // ì›ê²© ì…ë ¥ ì•¡ì…˜ ë“±ë¡
    builder.addAction(
    	NotificationCompat.Action.Builder(
    		android.R.drawable.ic_menu_send,
    		"ë‹µì¥",
    		replyPendingIntent
    	).addRemoteInput(remoteInput).build()
    )
    
    // ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë¦¬ì‹œë²„ë¡œë¶€í„° ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê¸€ ë°›ì•„ì˜¤ê¸°
    val replyText = RemoteInput.getResultsFromIntent(intent)?.getCharSequence("key_text_reply").toString()
    
    // ì•Œë¦¼ ê°±ì‹ 
    manager.notify(11, builder.build())
    ```
    
- í”„ë¡œê·¸ë ˆìŠ¤
    - ì•±ì—ì„œ ì‘ì—… ì‹œê°„ì„ ì‹œê°ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ì—­í• 
    - í™”ë©´ í•„ìš”ì—†ì´ ë¹Œë”ì— **setProgress()** í•¨ìˆ˜ë§Œ ì¶”ê°€í•˜ë©´ ìë™ìœ¼ë¡œ ìƒì„±
        - open fun **setProgress**(max: Int, progress: Int, indeterminate: Boolean): Notification.Builder
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„Œá…¥á†«_11 54 35](https://user-images.githubusercontent.com/50613994/138551072-1cde8abf-6b39-4f15-bb9e-8d7e7f22431b.png)
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„Œá…¥á†«_11 52 17](https://user-images.githubusercontent.com/50613994/138551046-5b8d9005-4225-4ca3-8a3c-5ab21e60a517.png)
    
    ```kotlin
    builder.setProgress(100, 0, false)
    manager.notify(11, builder.build())
    
    // 10ì´ˆ ë™ì•ˆ í”„ë¡œê·¸ë˜ìŠ¤ ë°” ì§„í–‰ê°’ ì¦ê°€
    thread {
    	for (i in 1..100) {
    		builder.setProgress(100, i, false)
    		manager.notify(11, builder.build())
    		SystemClock.sleep(100)
    	}
    }
    ```
    

### ì•Œë¦¼ ìŠ¤íƒ€ì¼

- í° ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼
    - **BigPicturesStyle** ì´ìš©
    - BigPicturesStyle ê°ì²´ì˜ bigPicture í”„ë¡œí¼í‹°ì— ì¶œë ¥í•  ì´ë¯¸ì§€ë¥¼ **[ë¹„íŠ¸ë§µ í˜•ì‹](https://developer.android.com/reference/kotlin/android/graphics/Bitmap)**ìœ¼ë¡œ ì •í•˜ê³ , ì´ ê°ì²´ë¥¼ ë¹Œë”ì˜ **setStyle()** í•¨ìˆ˜ì— ì§€ì •
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„’á…®_12 14 17](https://user-images.githubusercontent.com/50613994/138551083-b9e60f3e-353b-4c53-bbe5-07390ec90023.png)
        
        ```kotlin
        val bigPicture = BitmapFactory.decodeResource(resources, R.drawable.test)
        val bigStyle = NotificationCompat.BigPictureStyle()
        bigStyle.bigPicture(bigPicture)
        builder.setStyle(bigStyle)
        ```
        
- ê¸´ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼
    - ê¸´ ë¬¸ìì—´ì„ ì¶œë ¥í•˜ëŠ” **BigTextStyle** ì´ìš©
    - ì´ë©”ì¼ ìˆ˜ì‹  ì•Œë¦¼ìœ¼ë¡œ ì£¼ë¡œ ì‚¬ìš©
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„’á…®_12 12 28](https://user-images.githubusercontent.com/50613994/138551092-96c7a902-5c77-4b75-adbf-a87c3f457d3a.png)
        
        ```kotlin
        val bigTextStyle = NotificationCompat.BigTextStyle()
        bigTextStyle.bigText(resources.getString(R.string.long_text))
        builder.setStyle(bigTextStyle)
        ```
        
    
- ìƒì ìŠ¤íƒ€ì¼
    - ë¬¸ìì—´ì„ ëª©ë¡ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” **InboxStyle** ì´ìš©
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2021-10-22_á„‹á…©á„’á…®_12 20 35](https://user-images.githubusercontent.com/50613994/138551096-33a23c06-b3da-45f6-9f77-0c6516bd533d.png)

        
        ```kotlin
        val style = NotificationCompat.InboxStyle()
        style.addLine("first")
        style.addLine("second")
        style.addLine("third")
        style.addLine("fourth")
        builder.setStyle(style)
        ```
        
- ë©”ì‹œì§€ ìŠ¤íƒ€ì¼
    - ì—¬ëŸ¬ ì‚¬ëŒì´ ì£¼ê³ ë°›ì€ ë©”ì‹œì§€ë¥¼ êµ¬ë¶„í•´ì„œ ì¶œë ¥í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©
    - ê°ê°ì˜ ë©”ì‹œì§€ëŠ” **Message** ê°ì²´ë¡œ í‘œí˜„
        - ë©”ì‹œì§€ ê°ì²´
            
            Message(text: CharSequence, timestamp: Long, sender: Person?)
            
        
        ```kotlin
        // Person ê°ì²´ ìƒì„±
        val sender1: Person = Person.Builder()
        	.setName("kkang")
        	.setIcon(IconCompat.createWithResource(this, R.drawable.person1))
        	.build()
        
        val sender2: Person = Person.Builder()
        	.setName("choi")
        	.setIcon(IconCompat.createWithResource(this, R.drawable.person2))
        	.build()
        
        // ë©”ì‹œì§€ ê°ì²´ ìƒì„±
        val message1 = NotificationCompat.MessagingStyle.Message(
        	"hello",
        	System.currentTimeMillis(),
        	sender1
        )
        
        val message2 = NotificationCompat.MessagingStyle.Message(
        	"world",
        	System.currentTimeMillis(),
        	sender2
        )	
        
        // MessageStyleì— ë©”ì‹œì§€ ê°ì²´ ëŒ€ì…
        val messageStyle = NotificationCompat.MessagingStyle(sender1)
        	.addMessage(message1)
        	.addMessage(message2)
        builder.setStyle(messageStyle)
        ```